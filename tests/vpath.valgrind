cd /home/src/external-cvs/remake/tests/
valgrind --leak-check=full ../src/make -f /tmp/test.mk
==19759== Memcheck, a memory error detector for x86-linux.
==19759== Copyright (C) 2002-2005, and GNU GPL'd, by Julian Seward et al.
==19759== Using valgrind-2.4.0, a program supervision framework for x86-linux.
==19759== Copyright (C) 2000-2005, and GNU GPL'd, by Julian Seward et al.
==19759== For more details, rerun with: -v
==19759== 
==19759== Conditional jump or move depends on uninitialised value(s)
==19759==    at 0x1B9E3BA7: strstr (in /lib/libc-2.3.5.so)
==19759==    by 0x1BAAE6E7: __pthread_initialize_minimal (in /lib/libpthread-2.3.5.so)
==19759==    by 0x1BAAE297: (within /lib/libpthread-2.3.5.so)
==19759==    by 0x1BAADE7F: (within /lib/libpthread-2.3.5.so)
==19759==    by 0x1B8F1DCA: call_init (in /lib/ld-2.3.5.so)
==19759==    by 0x1B8F1EEC: _dl_init (in /lib/ld-2.3.5.so)
==19759==    by 0x1B8E47CE: (within /lib/ld-2.3.5.so)
cc -c work/main.c
cc -c kbd.c
cc -c display.c
cc -o edit main.o kbd.o display.o
==19759== 
==19759== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 23 from 1)
==19759== malloc/free: in use at exit: 7296 bytes in 473 blocks.
==19759== malloc/free: 2312 allocs, 1839 frees, 112408 bytes allocated.
==19759== For counts of detected errors, rerun with: -v
==19759== searching for pointers to 473 not-freed blocks.
==19759== checked 143708 bytes.
==19759== 
==19759== 
==19759== 176 (64 direct, 112 indirect) bytes in 4 blocks are definitely lost in loss record 4 of 13
==19759==    at 0x1B909BC9: calloc (vg_replace_malloc.c:175)
==19759==    by 0x804F9EA: nameseq_to_dep_chain (dep.c:70)
==19759==    by 0x8062CFD: eval (read.c:1221)
==19759==    by 0x8060C8C: eval_makefile (read.c:423)
==19759==    by 0x806067D: read_all_makefiles (read.c:219)
==19759==    by 0x805C59F: main (main.c:1611)
==19759== 
==19759== 
==19759== 221 bytes in 40 blocks are definitely lost in loss record 6 of 13
==19759==    at 0x1B909298: malloc (vg_replace_malloc.c:130)
==19759==    by 0x1B9E2ED4: strdup (in /lib/libc-2.3.5.so)
==19759==    by 0x8065E98: multi_glob (read.c:3035)
==19759==    by 0x804F6BB: set_default_suffixes (default.c:508)
==19759==    by 0x805C533: main (main.c:1585)
==19759== 
==19759== 
==19759== 491 (288 direct, 203 indirect) bytes in 9 blocks are definitely lost in loss record 8 of 13
==19759==    at 0x1B909BC9: calloc (vg_replace_malloc.c:175)
==19759==    by 0x806A4C4: install_pattern_rule (rule.c:394)
==19759==    by 0x804F82B: install_default_implicit_rules (default.c:566)
==19759==    by 0x805C92B: main (main.c:1765)
==19759== 
==19759== 
==19759== 3290 (1536 direct, 1754 indirect) bytes in 3 blocks are definitely lost in loss record 11 of 13
==19759==    at 0x1B909BC9: calloc (vg_replace_malloc.c:175)
==19759==    by 0x8056A15: hash_init (hash.c:47)
==19759==    by 0x8050701: find_directory (dir_fns.c:439)
==19759==    by 0x8050741: dir_file_exists_p (dir_fns.c:593)
==19759==    by 0x806D1AF: construct_vpath_list (vpath.c:268)
==19759==    by 0x8061C52: eval (read.c:817)
==19759==    by 0x8060C8C: eval_makefile (read.c:423)
==19759==    by 0x806067D: read_all_makefiles (read.c:219)
y==19759==    by 0x805C59F: main (main.c:1611)
==19759== 
==19759== 
==19759== 2767 (529 direct, 2238 indirect) bytes in 69 blocks are definitely lost in loss record 12 of 13
==19759==    at 0x1B909298: malloc (vg_replace_malloc.c:130)
==19759==    by 0x805F446: xmalloc (misc.c:207)
==19759==    by 0x8063F61: record_files (read.c:1762)
==19759==    by 0x8062109: eval (read.c:925)
==19759==    by 0x8060C8C: eval_makefile (read.c:423)
==19759==    by 0x806067D: read_all_makefiles (read.c:219)
==19759==    by 0x805C59F: main (main.c:1611)
==19759== 
==19759== LEAK SUMMARY:
==19759==    definitely lost: 2638 bytes in 125 blocks.
==19759==    indirectly lost: 4307 bytes in 334 blocks.
==19759==      possibly lost: 0 bytes in 0 blocks.
==19759==    still reachable: 351 bytes in 14 blocks.
==19759==         suppressed: 0 bytes in 0 blocks.
==19759== Reachable blocks (those to which a pointer was found) are not shown.
==19759== To see them, rerun with: --show-reachable=yes

Compilation finished at Sun Dec 11 19:40:06
